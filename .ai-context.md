# AI Agent Context - Required Files to Review

This file lists **MANDATORY files** that AI agents must review before generating code.

## ğŸ¯ Quick Reference

Before starting ANY code generation, AI agents MUST:

1. âœ… Read this file first
2. âœ… Review project standards (3 files)
3. âœ… Check existing patterns in similar files
4. âœ… Use proper imports and utilities

---

## ğŸ“š MUST READ - Every Time

### 1. Core Standards (READ FIRST)

These files define the rules ALL code must follow:

```
âœ… .cursorrules                                    # AI-specific rules (THIS IS CRITICAL)
âœ… docs/standards/ai-agent-guidelines.md          # Quick reference for AI agents
âœ… docs/standards/coding-standards.md             # Complete coding standards
```

**Why**: Contains environment variable rules, API patterns, TypeScript requirements

### 2. Project Configuration (CHECK BEFORE IMPORTING)

```
âœ… src/lib/env.ts                                 # Environment variables (USE THIS, NOT process.env)
âœ… src/lib/api.ts                                 # API client (USE THIS, NOT fetch)
âœ… src/lib/utils.ts                               # Utility functions
âœ… src/types/index.ts                             # Type definitions
```

**Why**: Ensures you use centralized utilities instead of reinventing

### 3. Component Patterns (CHECK FOR SIMILAR CODE)

Before creating a component, check existing patterns:

```
âœ… src/components/                                # Reusable components
âœ… src/views/                                     # Page-level components
âœ… src/app/[locale]/                              # App Router pages
```

**Why**: Maintain consistency with existing code

---

## ğŸ” Specific Use Cases

### When Working with API Calls

**READ FIRST**:

```
1. src/lib/api.ts                                 # See all available API methods
2. src/lib/env.ts                                 # Get environment config
3. docs/guides/api-integration.md                # API integration guide
```

**PATTERN TO FOLLOW**:

```typescript
import { api } from "@/lib/api"; // âœ… ALWAYS use this
const data = await api.products.getAll();
```

### When Creating Components

**READ FIRST**:

```
1. .cursorrules                                   # Component structure rules
2. Similar component in src/components/           # Check existing patterns
3. src/types/index.ts                            # Type definitions
```

**PATTERN TO FOLLOW**:

```typescript
// Check if it's a Server or Client Component
// Server Component (default - no "use client")
// Client Component (needs "use client" at top)

import type { Product } from "@/types";

interface ComponentProps {
  // Define all props
}

export const ComponentName = ({ ...props }: ComponentProps) => {
  // Implementation
};
```

### When Using Environment Variables

**READ FIRST**:

```
1. src/lib/env.ts                                 # ALWAYS use this
```

**PATTERN TO FOLLOW**:

```typescript
import { env } from "@/lib/env"; // âœ… CORRECT
const url = env.apiBaseUrl;

// âŒ NEVER DO THIS:
const url = process.env.NEXT_PUBLIC_API_BASE_URL;
```

### When Creating Pages

**READ FIRST**:

```
1. src/app/[locale]/page.tsx                      # Main page example
2. Any similar page in src/app/[locale]/          # Check structure
3. docs/standards/coding-standards.md            # App Router patterns
```

**PATTERN TO FOLLOW**:

```typescript
// Server Component with async params
export default async function Page({
  params,
  searchParams,
}: {
  params: Promise<{ slug: string }>;
  searchParams: Promise<{ [key: string]: string }>;
}) {
  const { slug } = await params;
  const query = await searchParams;
  // Server-side data fetching
}
```

### When Handling Forms

**READ FIRST**:

```
1. src/views/Auth.tsx                             # Form example
2. docs/development/error-handling.md            # Error handling
3. src/context/AuthContext.tsx                   # Context usage
```

### When Adding i18n

**READ FIRST**:

```
1. docs/guides/i18n-setup.md                     # i18n guide
2. docs/guides/i18n-reference.md                 # Quick reference
3. messages/en.json                              # Translation structure
```

---

## ğŸš« Common Mistakes to Avoid

### âŒ DON'T DO THIS:

```typescript
// Using process.env directly
const url = process.env.NEXT_PUBLIC_API_BASE_URL;

// Using fetch directly
const response = await fetch("https://api.example.com");

// Using 'any' type
const handleClick = (data: any) => {};

// Wrong import
import { Link } from "next/link"; // Wrong for i18n project
```

### âœ… DO THIS INSTEAD:

```typescript
// Use env utility
import { env } from "@/lib/env";
const url = env.apiBaseUrl;

// Use api client
import { api } from "@/lib/api";
const data = await api.products.getAll();

// Define proper types
interface ClickData {
  id: string;
}
const handleClick = (data: ClickData) => {};

// Correct import for i18n
import { Link } from "@/i18n/routing"; // Correct
```

---

## ğŸ“‹ Pre-Generation Checklist

Before generating ANY code, verify:

- [ ] I've read `.cursorrules`
- [ ] I know if this needs to be Server or Client Component
- [ ] I've checked for similar existing components
- [ ] I know which types to import from `@/types`
- [ ] I'll use `env` from `@/lib/env` (not `process.env`)
- [ ] I'll use `api` from `@/lib/api` (not `fetch`)
- [ ] I'll define all TypeScript types (no `any`)
- [ ] I'll follow the project's file structure
- [ ] I'll use proper naming conventions
- [ ] I'll organize imports correctly

---

## ğŸ¯ Quick Decision Tree

### "Should I use Server or Client Component?"

```
Does it need:
- useState, useEffect, or other hooks? â†’ Client Component ("use client")
- Browser APIs (window, document)? â†’ Client Component
- Event handlers (onClick, onChange)? â†’ Client Component
- None of the above? â†’ Server Component (default, no directive)
```

### "Where should I put this file?"

```
- Reusable UI component? â†’ src/components/ui/
- Feature component? â†’ src/components/[feature]/
- Page-level component? â†’ src/views/
- Utility function? â†’ src/lib/
- Custom hook? â†’ src/hooks/
- Type definition? â†’ src/types/
- Context provider? â†’ src/context/
```

### "How do I fetch data?"

```
- Server Component? â†’ Use api.* methods directly
- Client Component? â†’ Use TanStack Query + api.* methods
- Never use fetch() directly (only in src/lib/api.ts)
```

---

## ğŸ”— File Reference Map

**Environment & Config**:

- `src/lib/env.ts` â†’ Environment variables
- `next.config.mjs` â†’ Next.js configuration
- `tailwind.config.ts` â†’ Tailwind configuration
- `tsconfig.json` â†’ TypeScript configuration

**API & Data**:

- `src/lib/api.ts` â†’ API client (USE THIS)
- `src/types/index.ts` â†’ Type definitions
- `src/data/demo-data.ts` â†’ Demo data

**Utilities**:

- `src/lib/utils.ts` â†’ General utilities
- `src/lib/analytics.ts` â†’ Analytics helpers
- `src/hooks/` â†’ Custom React hooks

**Components**:

- `src/components/ui/` â†’ shadcn/ui components (DON'T MODIFY)
- `src/components/layout/` â†’ Layout components
- `src/components/products/` â†’ Product components
- `src/views/` â†’ Page views

**Routing & i18n**:

- `src/i18n/routing.ts` â†’ i18n routing config
- `src/app/[locale]/` â†’ App Router pages
- `messages/en.json` â†’ English translations
- `messages/bn.json` â†’ Bengali translations

**Context**:

- `src/context/AuthContext.tsx` â†’ Authentication
- `src/context/CartContext.tsx` â†’ Shopping cart
- `src/context/WishlistContext.tsx` â†’ Wishlist
- `src/context/OrderContext.tsx` â†’ Orders

---

## ğŸ“ Learning Resources

**For Comprehensive Understanding**:

1. [`docs/README.md`](./docs/README.md) - Documentation index
2. [`docs/guides/quick-start.md`](./docs/guides/quick-start.md) - Quick start
3. [`docs/standards/coding-standards.md`](./docs/standards/coding-standards.md) - Full standards

**For Specific Tasks**:

- API integration: `docs/guides/api-integration.md`
- Internationalization: `docs/guides/i18n-setup.md`
- Error handling: `docs/development/error-handling.md`

---

## âš¡ TL;DR - Most Important Rules

1. **ALWAYS** use `env` from `@/lib/env` (never `process.env`)
2. **ALWAYS** use `api` from `@/lib/api` (never `fetch`)
3. **ALWAYS** define TypeScript types (never `any`)
4. **ALWAYS** check `.cursorrules` before generating code
5. **ALWAYS** check for similar existing patterns
6. **Server Components by default**, Client only when needed
7. **Read the documentation** - it exists for a reason!

---

**Remember**: The goal is consistency and maintainability. When in doubt, check existing code!
