module.exports=[36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},91119,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...c}));e.displayName="Card";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",a),...c}));f.displayName="CardHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("h3",{ref:e,className:(0,d.cn)("text-2xl font-semibold leading-none tracking-tight",a),...c}));g.displayName="CardTitle";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("p",{ref:e,className:(0,d.cn)("text-sm text-muted-foreground",a),...c}));h.displayName="CardDescription";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("p-6 pt-0",a),...c}));i.displayName="CardContent";let j=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex items-center p-6 pt-0",a),...c}));j.displayName="CardFooter",a.s(["Card",()=>e,"CardContent",()=>i,"CardDescription",()=>h,"CardFooter",()=>j,"CardHeader",()=>f,"CardTitle",()=>g])},70430,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(30553),e=c.forwardRef((a,c)=>(0,b.jsx)(d.Primitive.label,{...a,ref:c,onMouseDown:b=>{b.target.closest("button, input, select, textarea")||(a.onMouseDown?.(b),!b.defaultPrevented&&b.detail>1&&b.preventDefault())}}));e.displayName="Label";var f=a.i(187),g=a.i(68114);let h=(0,f.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),i=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(e,{ref:d,className:(0,g.cn)(h(),a),...c}));i.displayName=e.displayName,a.s(["Label",()=>i],70430)},7827,a=>{"use strict";var b=a.i(72131);a.i(87924);var c=b.createContext(void 0);function d(a){let d=b.useContext(c);return a||d||"ltr"}a.s(["useDirection",()=>d])},24050,a=>{"use strict";var b=a.i(72131),c=a.i(7554),d=a.i(37738),e=a.i(70121),f=a.i(50104),g=a.i(92843),h=a.i(30553),i=a.i(46872),j=a.i(25152),k=a.i(7827),l=a.i(87924),m="rovingFocusGroup.onEntryFocus",n={bubbles:!1,cancelable:!0},o="RovingFocusGroup",[p,q,r]=(0,d.createCollection)(o),[s,t]=(0,f.createContextScope)(o,[r]),[u,v]=s(o),w=b.forwardRef((a,b)=>(0,l.jsx)(p.Provider,{scope:a.__scopeRovingFocusGroup,children:(0,l.jsx)(p.Slot,{scope:a.__scopeRovingFocusGroup,children:(0,l.jsx)(x,{...a,ref:b})})}));w.displayName=o;var x=b.forwardRef((a,d)=>{let{__scopeRovingFocusGroup:f,orientation:g,loop:p=!1,dir:r,currentTabStopId:s,defaultCurrentTabStopId:t,onCurrentTabStopIdChange:v,onEntryFocus:w,preventScrollOnEntryFocus:x=!1,...y}=a,z=b.useRef(null),A=(0,e.useComposedRefs)(d,z),C=(0,k.useDirection)(r),[D,E]=(0,j.useControllableState)({prop:s,defaultProp:t??null,onChange:v,caller:o}),[F,G]=b.useState(!1),H=(0,i.useCallbackRef)(w),I=q(f),J=b.useRef(!1),[K,L]=b.useState(0);return b.useEffect(()=>{let a=z.current;if(a)return a.addEventListener(m,H),()=>a.removeEventListener(m,H)},[H]),(0,l.jsx)(u,{scope:f,orientation:g,dir:C,loop:p,currentTabStopId:D,onItemFocus:b.useCallback(a=>E(a),[E]),onItemShiftTab:b.useCallback(()=>G(!0),[]),onFocusableItemAdd:b.useCallback(()=>L(a=>a+1),[]),onFocusableItemRemove:b.useCallback(()=>L(a=>a-1),[]),children:(0,l.jsx)(h.Primitive.div,{tabIndex:F||0===K?-1:0,"data-orientation":g,...y,ref:A,style:{outline:"none",...a.style},onMouseDown:(0,c.composeEventHandlers)(a.onMouseDown,()=>{J.current=!0}),onFocus:(0,c.composeEventHandlers)(a.onFocus,a=>{let b=!J.current;if(a.target===a.currentTarget&&b&&!F){let b=new CustomEvent(m,n);if(a.currentTarget.dispatchEvent(b),!b.defaultPrevented){let a=I().filter(a=>a.focusable);B([a.find(a=>a.active),a.find(a=>a.id===D),...a].filter(Boolean).map(a=>a.ref.current),x)}}J.current=!1}),onBlur:(0,c.composeEventHandlers)(a.onBlur,()=>G(!1))})})}),y="RovingFocusGroupItem",z=b.forwardRef((a,d)=>{let{__scopeRovingFocusGroup:e,focusable:f=!0,active:i=!1,tabStopId:j,children:k,...m}=a,n=(0,g.useId)(),o=j||n,r=v(y,e),s=r.currentTabStopId===o,t=q(e),{onFocusableItemAdd:u,onFocusableItemRemove:w,currentTabStopId:x}=r;return b.useEffect(()=>{if(f)return u(),()=>w()},[f,u,w]),(0,l.jsx)(p.ItemSlot,{scope:e,id:o,focusable:f,active:i,children:(0,l.jsx)(h.Primitive.span,{tabIndex:s?0:-1,"data-orientation":r.orientation,...m,ref:d,onMouseDown:(0,c.composeEventHandlers)(a.onMouseDown,a=>{f?r.onItemFocus(o):a.preventDefault()}),onFocus:(0,c.composeEventHandlers)(a.onFocus,()=>r.onItemFocus(o)),onKeyDown:(0,c.composeEventHandlers)(a.onKeyDown,a=>{if("Tab"===a.key&&a.shiftKey)return void r.onItemShiftTab();if(a.target!==a.currentTarget)return;let b=function(a,b,c){var d;let e=(d=a.key,"rtl"!==c?d:"ArrowLeft"===d?"ArrowRight":"ArrowRight"===d?"ArrowLeft":d);if(!("vertical"===b&&["ArrowLeft","ArrowRight"].includes(e))&&!("horizontal"===b&&["ArrowUp","ArrowDown"].includes(e)))return A[e]}(a,r.orientation,r.dir);if(void 0!==b){if(a.metaKey||a.ctrlKey||a.altKey||a.shiftKey)return;a.preventDefault();let e=t().filter(a=>a.focusable).map(a=>a.ref.current);if("last"===b)e.reverse();else if("prev"===b||"next"===b){var c,d;"prev"===b&&e.reverse();let f=e.indexOf(a.currentTarget);e=r.loop?(c=e,d=f+1,c.map((a,b)=>c[(d+b)%c.length])):e.slice(f+1)}setTimeout(()=>B(e))}}),children:"function"==typeof k?k({isCurrentTabStop:s,hasTabStop:null!=x}):k})})});z.displayName=y;var A={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function B(a,b=!1){let c=document.activeElement;for(let d of a)if(d===c||(d.focus({preventScroll:b}),document.activeElement!==c))return}a.s(["Item",()=>z,"Root",()=>w,"createRovingFocusGroupScope",()=>t])},77994,a=>{"use strict";var b=a.i(72131);function c(a){let c=b.useRef({value:a,previous:a});return b.useMemo(()=>(c.current.value!==a&&(c.current.previous=c.current.value,c.current.value=a),c.current.previous),[a])}a.s(["usePrevious",()=>c])},67311,a=>{"use strict";var b=a.i(87924),c=a.i(50944),d=a.i(72131),e=a.i(43218),f=a.i(25250),g=a.i(63933),h=a.i(56025),i=a.i(56747),j=a.i(99570),k=a.i(66718),l=a.i(70430),m=a.i(91119),n=a.i(7554),o=a.i(70121),p=a.i(50104),q=a.i(30553),r=a.i(24050),s=a.i(25152),t=a.i(7827),u=a.i(3688),v=a.i(77994),w=a.i(77192),x="Radio",[y,z]=(0,p.createContextScope)(x),[A,B]=y(x),C=d.forwardRef((a,c)=>{let{__scopeRadio:e,name:f,checked:g=!1,required:h,disabled:i,value:j="on",onCheck:k,form:l,...m}=a,[p,r]=d.useState(null),s=(0,o.useComposedRefs)(c,a=>r(a)),t=d.useRef(!1),u=!p||l||!!p.closest("form");return(0,b.jsxs)(A,{scope:e,checked:g,disabled:i,children:[(0,b.jsx)(q.Primitive.button,{type:"button",role:"radio","aria-checked":g,"data-state":G(g),"data-disabled":i?"":void 0,disabled:i,value:j,...m,ref:s,onClick:(0,n.composeEventHandlers)(a.onClick,a=>{g||k?.(),u&&(t.current=a.isPropagationStopped(),t.current||a.stopPropagation())})}),u&&(0,b.jsx)(F,{control:p,bubbles:!t.current,name:f,value:j,checked:g,required:h,disabled:i,form:l,style:{transform:"translateX(-100%)"}})]})});C.displayName=x;var D="RadioIndicator",E=d.forwardRef((a,c)=>{let{__scopeRadio:d,forceMount:e,...f}=a,g=B(D,d);return(0,b.jsx)(w.Presence,{present:e||g.checked,children:(0,b.jsx)(q.Primitive.span,{"data-state":G(g.checked),"data-disabled":g.disabled?"":void 0,...f,ref:c})})});E.displayName=D;var F=d.forwardRef(({__scopeRadio:a,control:c,checked:e,bubbles:f=!0,...g},h)=>{let i=d.useRef(null),j=(0,o.useComposedRefs)(i,h),k=(0,v.usePrevious)(e),l=(0,u.useSize)(c);return d.useEffect(()=>{let a=i.current;if(!a)return;let b=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(k!==e&&b){let c=new Event("click",{bubbles:f});b.call(a,e),a.dispatchEvent(c)}},[k,e,f]),(0,b.jsx)(q.Primitive.input,{type:"radio","aria-hidden":!0,defaultChecked:e,...g,tabIndex:-1,ref:j,style:{...g.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function G(a){return a?"checked":"unchecked"}F.displayName="RadioBubbleInput";var H=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],I="RadioGroup",[J,K]=(0,p.createContextScope)(I,[r.createRovingFocusGroupScope,z]),L=(0,r.createRovingFocusGroupScope)(),M=z(),[N,O]=J(I),P=d.forwardRef((a,c)=>{let{__scopeRadioGroup:d,name:e,defaultValue:f,value:g,required:h=!1,disabled:i=!1,orientation:j,dir:k,loop:l=!0,onValueChange:m,...n}=a,o=L(d),p=(0,t.useDirection)(k),[u,v]=(0,s.useControllableState)({prop:g,defaultProp:f??null,onChange:m,caller:I});return(0,b.jsx)(N,{scope:d,name:e,required:h,disabled:i,value:u,onValueChange:v,children:(0,b.jsx)(r.Root,{asChild:!0,...o,orientation:j,dir:p,loop:l,children:(0,b.jsx)(q.Primitive.div,{role:"radiogroup","aria-required":h,"aria-orientation":j,"data-disabled":i?"":void 0,dir:p,...n,ref:c})})})});P.displayName=I;var Q="RadioGroupItem",R=d.forwardRef((a,c)=>{let{__scopeRadioGroup:e,disabled:f,...g}=a,h=O(Q,e),i=h.disabled||f,j=L(e),k=M(e),l=d.useRef(null),m=(0,o.useComposedRefs)(c,l),p=h.value===g.value,q=d.useRef(!1);return d.useEffect(()=>{let a=a=>{H.includes(a.key)&&(q.current=!0)},b=()=>q.current=!1;return document.addEventListener("keydown",a),document.addEventListener("keyup",b),()=>{document.removeEventListener("keydown",a),document.removeEventListener("keyup",b)}},[]),(0,b.jsx)(r.Item,{asChild:!0,...j,focusable:!i,active:p,children:(0,b.jsx)(C,{disabled:i,required:h.required,checked:p,...k,...g,name:h.name,ref:m,onCheck:()=>h.onValueChange(g.value),onKeyDown:(0,n.composeEventHandlers)(a=>{"Enter"===a.key&&a.preventDefault()}),onFocus:(0,n.composeEventHandlers)(g.onFocus,()=>{q.current&&l.current?.click()})})})});R.displayName=Q;var S=d.forwardRef((a,c)=>{let{__scopeRadioGroup:d,...e}=a,f=M(d);return(0,b.jsx)(E,{...f,...e,ref:c})});S.displayName="RadioGroupIndicator";let T=(0,a.i(70106).default)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var U=a.i(68114);let V=d.forwardRef(({className:a,...c},d)=>(0,b.jsx)(P,{className:(0,U.cn)("grid gap-2",a),...c,ref:d}));V.displayName=P.displayName;let W=d.forwardRef(({className:a,...c},d)=>(0,b.jsx)(R,{ref:d,className:(0,U.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),...c,children:(0,b.jsx)(S,{className:"flex items-center justify-center",children:(0,b.jsx)(T,{className:"h-2.5 w-2.5 fill-current text-current"})})}));W.displayName=R.displayName;var X=a.i(23292);a.s(["default",0,()=>{let a=(0,c.useRouter)(),{items:n,getTotalPrice:o,clearCart:p}=(0,g.useCart)(),{isAuthenticated:q,user:r}=(0,h.useAuth)(),{createOrder:s}=(0,i.useOrders)(),[t,u]=(0,d.useState)(!1),[v,w]=(0,d.useState)("sslcommerz"),[x,y]=(0,d.useState)({name:r?.name||"",phone:"",address:"",city:"",zip:""});if((0,d.useEffect)(()=>{q?0===n.length&&a.replace("/cart"):a.replace("/auth")},[q,n.length,a]),!q||0===n.length)return null;let z=async b=>{b.preventDefault(),u(!0);try{let b=await s({userId:r.id,items:n,totalAmount:o(),status:"pending",paymentStatus:"pending",paymentMethod:v,shippingAddress:x});await new Promise(a=>setTimeout(a,2e3)),p(),X.toast.success("Order placed successfully!"),a.push(`/orders/${b.id}`)}catch(a){X.toast.error("Failed to process order")}finally{u(!1)}};return(0,b.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,b.jsx)(e.Header,{}),(0,b.jsxs)("main",{className:"flex-1 container mx-auto px-4 py-8",children:[(0,b.jsx)("h1",{className:"text-4xl font-bold mb-8",children:"Checkout"}),(0,b.jsx)("form",{onSubmit:z,children:(0,b.jsxs)("div",{className:"grid lg:grid-cols-3 gap-8",children:[(0,b.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,b.jsx)(m.Card,{children:(0,b.jsxs)(m.CardContent,{className:"p-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-semibold mb-6",children:"Shipping Information"}),(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{htmlFor:"name",children:"Full Name"}),(0,b.jsx)(k.Input,{id:"name",value:x.name,onChange:a=>y({...x,name:a.target.value}),required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{htmlFor:"phone",children:"Phone"}),(0,b.jsx)(k.Input,{id:"phone",type:"tel",value:x.phone,onChange:a=>y({...x,phone:a.target.value}),required:!0})]}),(0,b.jsxs)("div",{className:"md:col-span-2 space-y-2",children:[(0,b.jsx)(l.Label,{htmlFor:"address",children:"Address"}),(0,b.jsx)(k.Input,{id:"address",value:x.address,onChange:a=>y({...x,address:a.target.value}),required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{htmlFor:"city",children:"City"}),(0,b.jsx)(k.Input,{id:"city",value:x.city,onChange:a=>y({...x,city:a.target.value}),required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{htmlFor:"zip",children:"ZIP Code"}),(0,b.jsx)(k.Input,{id:"zip",value:x.zip,onChange:a=>y({...x,zip:a.target.value}),required:!0})]})]})]})}),(0,b.jsx)(m.Card,{children:(0,b.jsxs)(m.CardContent,{className:"p-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-semibold mb-6",children:"Payment Method"}),(0,b.jsxs)(V,{value:v,onValueChange:w,children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2 p-4 border border-border rounded-lg",children:[(0,b.jsx)(W,{value:"sslcommerz",id:"sslcommerz"}),(0,b.jsx)(l.Label,{htmlFor:"sslcommerz",className:"flex-1 cursor-pointer",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:"SSL Commerz"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Secure payment gateway"})]})})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2 p-4 border border-border rounded-lg",children:[(0,b.jsx)(W,{value:"cod",id:"cod"}),(0,b.jsx)(l.Label,{htmlFor:"cod",className:"flex-1 cursor-pointer",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:"Cash on Delivery"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Pay when you receive"})]})})]})]})]})})]}),(0,b.jsx)("div",{children:(0,b.jsx)(m.Card,{className:"sticky top-4",children:(0,b.jsxs)(m.CardContent,{className:"p-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-semibold mb-6",children:"Order Summary"}),(0,b.jsxs)("div",{className:"space-y-4",children:[n.map(a=>(0,b.jsx)("div",{children:(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsxs)("span",{className:"text-muted-foreground",children:[a.product.name," Ã— ",a.quantity]}),(0,b.jsxs)("span",{className:"font-medium",children:["$",(a.product.price*a.quantity).toFixed(2)]})]})},`${a.product.id}-${a.selectedColor}-${a.selectedSize}`)),(0,b.jsxs)("div",{className:"pt-4 border-t border-border space-y-2",children:[(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Subtotal"}),(0,b.jsxs)("span",{children:["$",o().toFixed(2)]})]}),(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Shipping"}),(0,b.jsx)("span",{children:"Free"})]}),(0,b.jsxs)("div",{className:"flex justify-between font-semibold text-lg pt-2 border-t border-border",children:[(0,b.jsx)("span",{children:"Total"}),(0,b.jsxs)("span",{children:["$",o().toFixed(2)]})]})]})]}),(0,b.jsx)(j.Button,{type:"submit",className:"w-full mt-6",disabled:t,children:t?"Processing...":"Place Order"})]})})})]})})]}),(0,b.jsx)(f.Footer,{})]})}],67311)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__5c93cbee._.js.map